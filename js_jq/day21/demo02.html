<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="ajax.js"></script>
		<script>
			onload = function(){
				var aInput = document.getElementsByTagName("input")[0];
				var aTab = document.getElementsByTagName("table")[0];
				
				aInput.onclick = function(){
					
					var xhr = createXHR();
					xhr.open("get","http://60.205.181.47/myPHPCode2/news.php",true);
					xhr.send(null);
					xhr.onreadystatechange = function(){
						if(xhr.readyState == 4 && xhr.status == 200){
						
						var responseArr = JSON.parse(xhr.responseText);
							aTab.children[0].length = 1;
							for(var i=0; i<responseArr.length; i++){
								obj = responseArr[i];
								var tr = document.createElement("tr");
								aTab.children[0].appendChild(tr);
								
								var td1 = document.createElement("td");
								var td2 = document.createElement("td");
								
								td1.innerHTML = obj.title;
								td2.innerHTML = obj.time;
								
								tr.appendChild(td1);
								tr.appendChild(td2);
							}
						}
					}
				}
			}
		</script>
	</head>
	<body>
		<input type="button" value="点击我加载数据"/>
		<table border="1">
			<tr>
				<td>title</td>
				<td>time</td>
			</tr>
		</table>
	</body>
</html>
